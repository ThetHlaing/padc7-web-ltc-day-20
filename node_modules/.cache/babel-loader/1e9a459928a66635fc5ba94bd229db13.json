{"ast":null,"code":"import { retrieveData, storeData } from \"../utilies/localStorage\";\nimport firestore from '../utilies/firebase';\nexport var fetchUsers = function fetchUsers() {\n  return function (dispatch) {\n    var userData = firestore.collection('users').get();\n    userData.then(function (snapshot) {\n      var users = [];\n      snapshot.docs.forEach(function (item) {\n        var user = item.data();\n        user.id = item.id;\n        users.push(user);\n      });\n      console.log('Users', users);\n      dispatch({\n        type: 'FETCH_USERS',\n        payload: users\n      });\n    });\n  };\n};\nexport var insertUser = function insertUser(user, cb) {\n  return function (dispatch) {\n    firestore.collection('users').add(user).then(function (data) {\n      user.id = data.id;\n      dispatch({\n        type: 'ADD_NEW_USER',\n        user: user\n      });\n      cb();\n    });\n  };\n};\nexport var loginUserEvent = function loginUserEvent(user, cb) {\n  return function (dispatch) {\n    dispatch({\n      type: \"LOGIN\",\n      user: user\n    });\n    cb();\n  };\n};","map":{"version":3,"sources":["/media/thet/Data/PADC/PADC 7/Repos/Day 20 - Firebase/src/actions/userActions.js"],"names":["retrieveData","storeData","firestore","fetchUsers","dispatch","userData","collection","get","then","snapshot","users","docs","forEach","item","user","data","id","push","console","log","type","payload","insertUser","cb","add","loginUserEvent"],"mappings":"AAAA,SACEA,YADF,EAEEC,SAFF,QAGO,yBAHP;AAIA,OAAOC,SAAP,MAAsB,qBAAtB;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,UAAAC,QAAQ,EAAI;AAE1C,QAAMC,QAAQ,GAAGH,SAAS,CAACI,UAAV,CAAqB,OAArB,EAA8BC,GAA9B,EAAjB;AACAF,IAAAA,QAAQ,CAACG,IAAT,CAAe,UAACC,QAAD,EAAc;AAC3B,UAAMC,KAAK,GAAG,EAAd;AACAD,MAAAA,QAAQ,CAACE,IAAT,CAAcC,OAAd,CAAuB,UAAAC,IAAI,EAAI;AAC7B,YAAMC,IAAI,GAAGD,IAAI,CAACE,IAAL,EAAb;AACAD,QAAAA,IAAI,CAACE,EAAL,GAAUH,IAAI,CAACG,EAAf;AACAN,QAAAA,KAAK,CAACO,IAAN,CAAWH,IAAX;AACD,OAJD;AAKAI,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBT,KAApB;AACAN,MAAAA,QAAQ,CAAC;AACPgB,QAAAA,IAAI,EAAE,aADC;AAEPC,QAAAA,OAAO,EAAEX;AAFF,OAAD,CAAR;AAID,KAZD;AAcD,GAjByB;AAAA,CAAnB;AAmBP,OAAO,IAAMY,UAAU,GAAG,SAAbA,UAAa,CAACR,IAAD,EAAOS,EAAP;AAAA,SAAc,UAAAnB,QAAQ,EAAI;AAClDF,IAAAA,SAAS,CAACI,UAAV,CAAqB,OAArB,EAA8BkB,GAA9B,CAAkCV,IAAlC,EAAwCN,IAAxC,CAA8C,UAACO,IAAD,EAAU;AACtDD,MAAAA,IAAI,CAACE,EAAL,GAAUD,IAAI,CAACC,EAAf;AACAZ,MAAAA,QAAQ,CAAC;AACPgB,QAAAA,IAAI,EAAE,cADC;AAEPN,QAAAA,IAAI,EAAEA;AAFC,OAAD,CAAR;AAKAS,MAAAA,EAAE;AACH,KARD;AAWD,GAZyB;AAAA,CAAnB;AAcP,OAAO,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACX,IAAD,EAAMS,EAAN;AAAA,SAAa,UAAAnB,QAAQ,EAAG;AACpDA,IAAAA,QAAQ,CAAC;AACPgB,MAAAA,IAAI,EAAG,OADA;AAEPN,MAAAA,IAAI,EAAGA;AAFA,KAAD,CAAR;AAIAS,IAAAA,EAAE;AACH,GAN6B;AAAA,CAAvB","sourcesContent":["import {\n  retrieveData,\n  storeData\n} from \"../utilies/localStorage\";\nimport firestore from '../utilies/firebase';\n\nexport const fetchUsers = () => dispatch => {\n\n  const userData = firestore.collection('users').get();\n  userData.then( (snapshot) => {\n    const users = [];\n    snapshot.docs.forEach( item => {\n      const user = item.data();\n      user.id = item.id;\n      users.push(user);\n    });\n    console.log('Users',users);\n    dispatch({\n      type: 'FETCH_USERS',\n      payload: users\n    });\n  });\n  \n};\n\nexport const insertUser = (user, cb) => dispatch => {\n  firestore.collection('users').add(user).then( (data) => {\n    user.id = data.id;\n    dispatch({\n      type: 'ADD_NEW_USER',\n      user: user\n    });\n  \n    cb();\n  })\n  \n\n};\n\nexport const loginUserEvent = (user,cb) => dispatch =>{\n  dispatch({\n    type : \"LOGIN\",\n    user : user\n  });\n  cb();\n}"]},"metadata":{},"sourceType":"module"}